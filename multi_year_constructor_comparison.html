<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Multi-Year Constructor Comparison</title>
  <link rel="stylesheet" href="multi_year_comparison.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="wrapper">
    <header>
      <h1>Multi-Year Constructor Comparison</h1>
      <nav class="nav-links">
        <a href="index.html">Home</a>
      </nav>
    </header>

    <main class="main-content">
      <section class="left-panel">
        <h2>Constructor Selections</h2>

        <label for="startYear">Start Year:</label>
        <select id="startYear"></select>

        <label for="endYear">End Year:</label>
        <select id="endYear"></select>

        <label>Constructors (2–4):</label>
        <div id="constructorCheckboxes" class="checkbox-container"></div>

        <label for="metricSelect">Metric:</label>
        <select id="metricSelect">
          <option value="totalPoints">Total Points</option>
          <option value="avgFinish">Average Finishing Position</option>
          <option value="dnfs">Number of DNFs</option>
          <option value="avgQual">Average Qualifying Position</option>
          <option value="wins">Number of Wins</option>
          <option value="avgPointsPerRace">Average Points per Race</option>
        </select>

        <label>View Mode:</label>
        <div style="margin-bottom:10px;">
          <input type="radio" name="viewMode" value="table" checked> Table
          <input type="radio" name="viewMode" value="chart"> Chart
        </div>

        <button id="compareBtn">Compare</button>

        <!-- AI button (matches CSS id) -->
        <button id="aiButton">AI Insights</button>
      </section>

      <!-- ── RIGHT PANEL ──────────────────────── -->
      <section class="right-panel">
        <div id="tableContainer" class="result-container" style="display:none;">
          <h2>Comparison Table</h2>
          <table>
            <thead id="comparisonTableHead"></thead>
            <tbody id="comparisonTableBody"></tbody>
          </table>
        </div>

        <div id="chartContainer" class="chart-container" style="display:none;">
          <h2>Comparison Chart</h2>
          <canvas id="comparisonChart"></canvas>
        </div>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 F1 Data Visualization. All rights reserved.</p>
    </footer>
  </div>

  <!-- ── AI INSIGHTS MODAL ── -->
  <div id="ai-modal" class="modal">
    <div class="modal-content">
      <a href="#" id="close-ai-modal" class="close-modal">&times;</a>
      <h3>AI Insights</h3>

      <label for="presetQueries">Quick Questions:</label>
      <select id="presetQueries">
        <option value="">— Select a question —</option>
        <option value="Which team benefited most from rule changes during these years?">
          Which team benefited most from rule changes during these years?
        </option>
        <option value="Explain why the performance gap shifts the way it does.">
          Explain why the performance gap shifts the way it does.
        </option>
        <option value="Based on these trends, who might dominate next season?">
          Based on these trends, who might dominate next season?
        </option>
      </select>

      <textarea id="aiQuery" rows="4" placeholder="Or ask your own question…"></textarea>
      <button id="sendAI">Send</button>

      <div id="aiAnswer"></div>
    </div>
  </div>

  <script src="multi_year_constructor_comparison.js"></script>
</body>
</html>